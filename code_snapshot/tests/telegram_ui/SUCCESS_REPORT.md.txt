# üéâ TELEGRAM UI TESTING - –§–ò–ù–ê–õ–¨–ù–´–ô –û–¢–ß–Å–¢

## ‚úÖ –°–¢–ê–¢–£–°: –ü–û–õ–ù–û–°–¢–¨–Æ –†–ê–ë–û–¢–ê–ï–¢!

**–î–∞—Ç–∞:** 07.10.2025  
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Telegram –±–æ—Ç–æ–≤ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## üéØ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. –°–æ–∑–¥–∞–Ω–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è UI —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω Telegram API (api_id, api_hash)
- ‚úÖ –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª —Å–µ—Å—Å–∏–∏ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- ‚úÖ –†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω helper-–∫–ª–∞—Å—Å `BotTestClient` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–æ—Ç–∞–º–∏
- ‚úÖ –°–æ–∑–¥–∞–Ω—ã –ø—Ä–∏–º–µ—Ä—ã —Ç–µ—Å—Ç–æ–≤

### 2. –£—Å–ø–µ—à–Ω–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω —Ç–µ—Å—Ç–æ–≤—ã–π –∞–∫–∫–∞—É–Ω—Ç
- **–ù–æ–º–µ—Ä:** +79031751130 (–∑–∞–ø–∞—Å–Ω–æ–π, –±–µ–∑–æ–ø–∞—Å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å)
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:** Dith√∂√∂z (@regizdrou)
- **User ID:** 6022057382
- **–§–∞–π–ª —Å–µ—Å—Å–∏–∏:** `C:\ProjectF\tests\telegram_ui\test_session.session`

### 3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –æ–±–∞ –±–æ—Ç–∞

#### –ú–∞—Å—Ç–µ—Ä-–±–æ—Ç (@BotZaMaster_bot) ‚úÖ
**–ö–æ–º–∞–Ω–¥–∞:** `/start`  
**–û—Ç–≤–µ—Ç:**
```
**Field Service ‚Äî –º–∞—Å—Ç–µ—Ä**
–°—Ç–∞—Ç—É—Å –∞–Ω–∫–µ—Ç—ã: –ù–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏

–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Field Service! –í–∞—à–∞ –∞–Ω–∫–µ—Ç–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é.
–ú—ã —Å–æ–æ–±—â–∏–º, –∫–∞–∫ —Ç–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–∏–º –¥–∞–Ω–Ω—ã–µ. –ü–æ–∫–∞ –≤—ã –º–æ–∂–µ—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å 
–∏ –æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏.
```
**–ö–Ω–æ–ø–∫–∏:** `–ó–∞–ø–æ–ª–Ω–∏—Ç—å –∞–Ω–∫–µ—Ç—É`

#### –ê–¥–º–∏–Ω-–±–æ—Ç (@sportsforecastbot_bot) ‚úÖ
**–ö–æ–º–∞–Ω–¥–∞:** `/start`  
**–û—Ç–≤–µ—Ç:**
```
–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Field Service. –í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–∑–¥–µ–ª:
```
**–ö–Ω–æ–ø–∫–∏:** `üì¶ –ó–∞—è–≤–∫–∏`, `üßæ –õ–æ–≥–∏`

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
C:\ProjectF\tests\telegram_ui\
‚îú‚îÄ‚îÄ config.py                      # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (API credentials)
‚îú‚îÄ‚îÄ bot_client.py                  # Helper-–∫–ª–∞—Å—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–æ—Ç–∞–º–∏
‚îú‚îÄ‚îÄ setup_client.py                # –°–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞–Ω–∏—è —Å–µ—Å—Å–∏–∏ (–∑–∞–ø—É—Å—Ç–∏—Ç—å 1 —Ä–∞–∑)
‚îú‚îÄ‚îÄ test_quick_check.py            # ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–≤—è–∑–∏ —Å –±–æ—Ç–∞–º–∏ (–†–ê–ë–û–¢–ê–ï–¢)
‚îú‚îÄ‚îÄ direct_test.py                 # –ü—Ä—è–º–æ–π —Ç–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
‚îú‚îÄ‚îÄ diagnose_session.py            # –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º —Å —Å–µ—Å—Å–∏–µ–π
‚îú‚îÄ‚îÄ test_session.session           # ‚úÖ –§–∞–π–ª —Å–µ—Å—Å–∏–∏ (–°–û–ó–î–ê–ù)
‚îú‚îÄ‚îÄ mock_telegram.py               # Mock-–≤–µ—Ä—Å–∏—è –¥–ª—è —Ç–µ—Å—Ç–æ–≤ –±–µ–∑ API
‚îú‚îÄ‚îÄ test_mock_examples.py          # –ü—Ä–∏–º–µ—Ä—ã mock-—Ç–µ—Å—Ç–æ–≤
‚îú‚îÄ‚îÄ ALTERNATIVE_APPROACHES.md      # –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã
‚îú‚îÄ‚îÄ FINAL_SUMMARY.md               # –ò—Ç–æ–≥–æ–≤–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îî‚îÄ‚îÄ README.md                      # –û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

---

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–≤—è–∑–∏ —Å –±–æ—Ç–∞–º–∏
```powershell
cd C:\ProjectF
$env:PYTHONPATH='C:\ProjectF'
python tests\telegram_ui\test_quick_check.py
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
–ú–∞—Å—Ç–µ—Ä-–±–æ—Ç: ‚úÖ OK
–ê–¥–º–∏–Ω-–±–æ—Ç: ‚úÖ OK
```

### –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π —Å–µ—Å—Å–∏–∏ (–ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)
```powershell
cd C:\ProjectF
$env:PYTHONPATH='C:\ProjectF'
python tests\telegram_ui\setup_client.py
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ —Ç–µ—Å—Ç–∞—Ö
```python
from tests.telegram_ui.bot_client import BotTestClient

async def test_example():
    async with BotTestClient() as client:
        # –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É
        msg = await client.send_command("BotZaMaster_bot", "/start")
        
        # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—Å—Ç
        assert "Field Service" in msg.text
        
        # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–Ω–æ–ø–∫–∏
        assert any("–ó–∞–ø–æ–ª–Ω–∏—Ç—å –∞–Ω–∫–µ—Ç—É" in btn.text 
                  for row in msg.buttons for btn in row)
```

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### API Credentials
- **API ID:** 25078350
- **API Hash:** f544a1a967172e8cc8a05a0115b98b69
- **–ò—Å—Ç–æ—á–Ω–∏–∫:** https://my.telegram.org/auth

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
```python
# tests/telegram_ui/config.py
API_ID = 25078350
API_HASH = "f544a1a967172e8cc8a05a0115b98b69"
MASTER_BOT_USERNAME = "BotZaMaster_bot"
ADMIN_BOT_USERNAME = "sportsforecastbot_bot"
MESSAGE_TIMEOUT = 10  # —Å–µ–∫—É–Ω–¥
```

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```bash
pip install telethon
```

---

## üìä –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏

### –£–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–≤—è–∑–∏ —Å –º–∞—Å—Ç–µ—Ä-–±–æ—Ç–æ–º
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–≤—è–∑–∏ —Å –∞–¥–º–∏–Ω-–±–æ—Ç–æ–º
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –æ—Ç–≤–µ—Ç–æ–≤
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∫–Ω–æ–ø–æ–∫
- ‚úÖ Mock-—Ç–µ—Å—Ç—ã (–±–µ–∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ API)

### –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:
- ‚è≥ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–∞ –º–∞—Å—Ç–µ—Ä–∞
- ‚è≥ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–Ω—è—Ç–∏—è/–æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞
- ‚è≥ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–º–µ–Ω—ã —Å—Ç–∞—Ç—É—Å–∞ –º–∞—Å—Ç–µ—Ä–∞
- ‚è≥ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç—ã —Å –æ—á–µ—Ä–µ–¥—å—é –≤ –∞–¥–º–∏–Ω-–±–æ—Ç–µ
- ‚è≥ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
1. **–§–∞–π–ª `.session` –ù–ï –∫–æ–º–º–∏—Ç–∏—Ç—å –≤ Git** (—É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω –≤ .gitignore)
2. **–ù–µ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å API credentials** —Ç—Ä–µ—Ç—å–∏–º –ª–∏—Ü–∞–º
3. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –∑–∞–ø–∞—Å–Ω–æ–π –Ω–æ–º–µ—Ä** –¥–ª—è —Ç–µ—Å—Ç–æ–≤

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è Telegram API
- –ú–∞–∫—Å–∏–º—É–º ~30 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É
- –ü—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–æ–≤ - –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –Ω–∞ 1 —á–∞—Å
- –ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è —Å–ø–∞–º–∞

### –†–µ—à—ë–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
1. ‚úÖ **–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –≤—Å–µ—Ö —Å–µ—Å—Å–∏–π** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –∑–∞–ø–∞—Å–Ω–æ–π –Ω–æ–º–µ—Ä
2. ‚úÖ **–ü—Ä–æ–±–ª–µ–º–∞ —Å –ø—É—Ç—ë–º –∫ —Ñ–∞–π–ª—É —Å–µ—Å—Å–∏–∏** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ `.session` —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
3. ‚úÖ **–ë–æ—Ç—ã –Ω–µ –æ—Ç–≤–µ—á–∞–ª–∏** - —É–≤–µ–ª–∏—á–µ–Ω–∞ –∑–∞–¥–µ—Ä–∂–∫–∞ –≤ `_wait_for_message` –¥–æ 3 —Å–µ–∫—É–Ω–¥
4. ‚úÖ **–°–µ—Å—Å–∏—è –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤—ã–≤–∞–ª–∞—Å—å** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω `setup_client.py`

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### 1. –ù–∞–ø–∏—Å–∞—Ç—å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–µ UI —Ç–µ—Å—Ç—ã
–°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –≤—Å–µ—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤:
- –û–Ω–±–æ—Ä–¥–∏–Ω–≥ –º–∞—Å—Ç–µ—Ä–∞ (–≤—ã–±–æ—Ä –≥–æ—Ä–æ–¥–∞, —Ä–∞–π–æ–Ω–∞)
- –ü—Ä–∏–Ω—è—Ç–∏–µ/–æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞
- –ó–∞–∫—Ä—ã—Ç–∏–µ –∑–∞–∫–∞–∑–∞ —Å —Ñ–æ—Ç–æ
- –†–∞–±–æ—Ç–∞ —Å —Ñ–∏–Ω–∞–Ω—Å–∞–º–∏

### 2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å pytest
–î–æ–±–∞–≤–∏—Ç—å –≤ `pytest.ini` –∏ –∑–∞–ø—É—Å–∫–∞—Ç—å —á–µ—Ä–µ–∑:
```bash
pytest tests/telegram_ui/ -v
```

### 3. CI/CD
–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ UI —Ç–µ—Å—Ç–æ–≤ –≤ CI pipeline

---

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞

### –ë–æ—Ç—ã –∑–∞–ø—É—â–µ–Ω—ã –Ω–∞:
- **PID 15044:** –ú–∞—Å—Ç–µ—Ä-–±–æ—Ç
- **PID 20852:** –ê–¥–º–∏–Ω-–±–æ—Ç

### –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
```powershell
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–ø—É—â–µ–Ω—ã –ª–∏ –±–æ—Ç—ã
Get-Process python*

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ Python –ø—Ä–æ—Ü–µ—Å—Å—ã
Get-Process python* | Stop-Process -Force

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –º–∞—Å—Ç–µ—Ä-–±–æ—Ç–∞
cd C:\ProjectF\field-service
python -m field_service.bots.master_bot.main

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–¥–º–∏–Ω-–±–æ—Ç–∞
cd C:\ProjectF\field-service
python -m field_service.bots.admin_bot.main
```

---

## ‚úÖ –ò—Ç–æ–≥

**–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Telegram –±–æ—Ç–æ–≤ –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç!**

–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ:
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∫–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞–º
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è—Ç—å –∏—Ö –æ—Ç–≤–µ—Ç—ã
- ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–Ω–æ–ø–∫–∏ –∏ UI flow
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ CI/CD
- ‚úÖ –ü–∏—Å–∞—Ç—å E2E —Ç–µ—Å—Ç—ã

**–í—Å–µ —Ñ–∞–π–ª—ã –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üöÄ
