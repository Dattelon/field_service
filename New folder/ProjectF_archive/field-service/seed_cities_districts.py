"""
–°–∫—Ä–∏–ø—Ç –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–∞–±–ª–∏—Ü cities –∏ districts
79 –≥–æ—Ä–æ–¥–æ–≤ + –æ—Å–Ω–æ–≤–Ω—ã–µ —Ä–∞–π–æ–Ω—ã/–æ–∫—Ä—É–≥–∞
"""
import asyncio
import sys
from pathlib import Path

# –î–æ–±–∞–≤–ª—è–µ–º –ø—É—Ç—å –∫ –ø—Ä–æ–µ–∫—Ç—É
project_root = Path(__file__).parent
sys.path.insert(0, str(project_root))

from sqlalchemy.ext.asyncio import create_async_engine, AsyncSession
from sqlalchemy.orm import sessionmaker
from sqlalchemy import select, delete

# –ò–º–ø–æ—Ä—Ç—ã –∏–∑ –ø—Ä–æ–µ–∫—Ç–∞
from field_service.db.models import cities, districts
from field_service.config import settings


# –î–∞–Ω–Ω—ã–µ –≥–æ—Ä–æ–¥–æ–≤: (–Ω–∞–∑–≤–∞–Ω–∏–µ, —Ç–∞–π–º–∑–æ–Ω–∞, —Å–ø–∏—Å–æ–∫_—Ä–∞–π–æ–Ω–æ–≤)
CITIES_DATA = [
    # === –¢–æ–ø-15 ===
    ("–ú–æ—Å–∫–≤–∞", "Europe/Moscow", [
        "–¶–ê–û", "–°–ê–û", "–°–í–ê–û", "–í–ê–û", "–Æ–í–ê–û", "–Æ–ê–û", "–Æ–ó–ê–û", "–ó–ê–û", "–°–ó–ê–û", 
        "–ó–µ–ª–µ–Ω–æ–≥—Ä–∞–¥", "–ù–æ–≤–æ–º–æ—Å–∫–æ–≤—Å–∫–∏–π", "–¢—Ä–æ–∏—Ü–∫–∏–π"
    ]),
    ("–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥", "Europe/Moscow", [
        "–ê–¥–º–∏—Ä–∞–ª—Ç–µ–π—Å–∫–∏–π", "–í–∞—Å–∏–ª–µ–æ—Å—Ç—Ä–æ–≤—Å–∫–∏–π", "–í—ã–±–æ—Ä–≥—Å–∫–∏–π", "–ö–∞–ª–∏–Ω–∏–Ω—Å–∫–∏–π", 
        "–ö–∏—Ä–æ–≤—Å–∫–∏–π", "–ö–æ–ª–ø–∏–Ω—Å–∫–∏–π", "–ö—Ä–∞—Å–Ω–æ–≥–≤–∞—Ä–¥–µ–π—Å–∫–∏–π", "–ö—Ä–∞—Å–Ω–æ—Å–µ–ª—å—Å–∫–∏–π",
        "–ö—Ä–æ–Ω—à—Ç–∞–¥—Ç—Å–∫–∏–π", "–ö—É—Ä–æ—Ä—Ç–Ω—ã–π", "–ú–æ—Å–∫–æ–≤—Å–∫–∏–π", "–ù–µ–≤—Å–∫–∏–π", "–ü–µ—Ç—Ä–æ–≥—Ä–∞–¥—Å–∫–∏–π",
        "–ü–µ—Ç—Ä–æ–¥–≤–æ—Ä—Ü–æ–≤—ã–π", "–ü—Ä–∏–º–æ—Ä—Å–∫–∏–π", "–ü—É—à–∫–∏–Ω—Å–∫–∏–π", "–§—Ä—É–Ω–∑–µ–Ω—Å–∫–∏–π", "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π"
    ]),
    ("–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫", "Asia/Novosibirsk", [
        "–î–∑–µ—Ä–∂–∏–Ω—Å–∫–∏–π", "–ñ–µ–ª–µ–∑–Ω–æ–¥–æ—Ä–æ–∂–Ω—ã–π", "–ó–∞–µ–ª—å—Ü–æ–≤—Å–∫–∏–π", "–ö–∞–ª–∏–Ω–∏–Ω—Å–∫–∏–π",
        "–ö–∏—Ä–æ–≤—Å–∫–∏–π", "–õ–µ–Ω–∏–Ω—Å–∫–∏–π", "–û–∫—Ç—è–±—Ä—å—Å–∫–∏–π", "–ü–µ—Ä–≤–æ–º–∞–π—Å–∫–∏–π", "–°–æ–≤–µ—Ç—Å–∫–∏–π", "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π"
    ]),
    ("–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥", "Asia/Yekaterinburg", [
        "–í–µ—Ä—Ö-–ò—Å–µ—Ç—Å–∫–∏–π", "–ñ–µ–ª–µ–∑–Ω–æ–¥–æ—Ä–æ–∂–Ω—ã–π", "–ö–∏—Ä–æ–≤—Å–∫–∏–π", "–õ–µ–Ω–∏–Ω—Å–∫–∏–π",
        "–û–∫—Ç—è–±—Ä—å—Å–∫–∏–π", "–û—Ä–¥–∂–æ–Ω–∏–∫–∏–¥–∑–µ–≤—Å–∫–∏–π", "–ß–∫–∞–ª–æ–≤—Å–∫–∏–π"
    ]),
    ("–ö–∞–∑–∞–Ω—å", "Europe/Moscow", [
        "–ê–≤–∏–∞—Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–π", "–í–∞—Ö–∏—Ç–æ–≤—Å–∫–∏–π", "–ö–∏—Ä–æ–≤—Å–∫–∏–π", "–ú–æ—Å–∫–æ–≤—Å–∫–∏–π",
        "–ù–æ–≤–æ-–°–∞–≤–∏–Ω–æ–≤—Å–∫–∏–π", "–ü—Ä–∏–≤–æ–ª–∂—Å–∫–∏–π", "–°–æ–≤–µ—Ç—Å–∫–∏–π"
    ]),
    ("–ù–∏–∂–Ω–∏–π –ù–æ–≤–≥–æ—Ä–æ–¥", "Europe/Moscow", [
        "–ê–≤—Ç–æ–∑–∞–≤–æ–¥—Å–∫–∏–π", "–ö–∞–Ω–∞–≤–∏–Ω—Å–∫–∏–π", "–õ–µ–Ω–∏–Ω—Å–∫–∏–π", "–ú–æ—Å–∫–æ–≤—Å–∫–∏–π",
        "–ù–∏–∂–µ–≥–æ—Ä–æ–¥—Å–∫–∏–π", "–ü—Ä–∏–æ–∫—Å–∫–∏–π", "–°–æ–≤–µ—Ç—Å–∫–∏–π", "–°–æ—Ä–º–æ–≤—Å–∫–∏–π"
    ]),
    ("–ß–µ–ª—è–±–∏–Ω—Å–∫", "Asia/Yekaterinburg", [
        "–ö–∞–ª–∏–Ω–∏–Ω—Å–∫–∏–π", "–ö—É—Ä—á–∞—Ç–æ–≤—Å–∫–∏–π", "–õ–µ–Ω–∏–Ω—Å–∫–∏–π", "–ú–µ—Ç–∞–ª–ª—É—Ä–≥–∏—á–µ—Å–∫–∏–π",
        "–°–æ–≤–µ—Ç—Å–∫–∏–π", "–¢—Ä–∞–∫—Ç–æ—Ä–æ–∑–∞–≤–æ–¥—Å–∫–∏–π", "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π"
    ]),
    ("–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫", "Asia/Krasnoyarsk", [
        "–ñ–µ–ª–µ–∑–Ω–æ–¥–æ—Ä–æ–∂–Ω—ã–π", "–ö–∏—Ä–æ–≤—Å–∫–∏–π", "–õ–µ–Ω–∏–Ω—Å–∫–∏–π", "–û–∫—Ç—è–±—Ä—å—Å–∫–∏–π",
        "–°–≤–µ—Ä–¥–ª–æ–≤—Å–∫–∏–π", "–°–æ–≤–µ—Ç—Å–∫–∏–π", "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π"
    ]),
    ("–°–∞–º–∞—Ä–∞", "Europe/Samara", [
        "–ñ–µ–ª–µ–∑–Ω–æ–¥–æ—Ä–æ–∂–Ω—ã–π", "–ö–∏—Ä–æ–≤—Å–∫–∏–π", "–ö—Ä–∞—Å–Ω–æ–≥–ª–∏–Ω—Å–∫–∏–π", "–ö—É–π–±—ã—à–µ–≤—Å–∫–∏–π",
        "–õ–µ–Ω–∏–Ω—Å–∫–∏–π", "–û–∫—Ç—è–±—Ä—å—Å–∫–∏–π", "–ü—Ä–æ–º—ã—à–ª–µ–Ω–Ω—ã–π", "–°–∞–º–∞—Ä—Å–∫–∏–π", "–°–æ–≤–µ—Ç—Å–∫–∏–π"
    ]),
    ("–£—Ñ–∞", "Asia/Yekaterinburg", [
        "–î–µ–º—Å–∫–∏–π", "–ö–∞–ª–∏–Ω–∏–Ω—Å–∫–∏–π", "–ö–∏—Ä–æ–≤—Å–∫–∏–π", "–õ–µ–Ω–∏–Ω—Å–∫–∏–π",
        "–û–∫—Ç—è–±—Ä—å—Å–∫–∏–π", "–û—Ä–¥–∂–æ–Ω–∏–∫–∏–¥–∑–µ–≤—Å–∫–∏–π", "–°–æ–≤–µ—Ç—Å–∫–∏–π"
    ]),
    ("–†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É", "Europe/Moscow", [
        "–í–æ—Ä–æ—à–∏–ª–æ–≤—Å–∫–∏–π", "–ñ–µ–ª–µ–∑–Ω–æ–¥–æ—Ä–æ–∂–Ω—ã–π", "–ö–∏—Ä–æ–≤—Å–∫–∏–π", "–õ–µ–Ω–∏–Ω—Å–∫–∏–π",
        "–û–∫—Ç—è–±—Ä—å—Å–∫–∏–π", "–ü–µ—Ä–≤–æ–º–∞–π—Å–∫–∏–π", "–ü—Ä–æ–ª–µ—Ç–∞—Ä—Å–∫–∏–π", "–°–æ–≤–µ—Ç—Å–∫–∏–π"
    ]),
    ("–ö—Ä–∞—Å–Ω–æ–¥–∞—Ä", "Europe/Moscow", [
        "–ó–∞–ø–∞–¥–Ω—ã–π", "–ö–∞—Ä–∞—Å—É–Ω—Å–∫–∏–π", "–ü—Ä–∏–∫—É–±–∞–Ω—Å–∫–∏–π", "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π"
    ]),
    ("–û–º—Å–∫", "Asia/Omsk", [
        "–ö–∏—Ä–æ–≤—Å–∫–∏–π", "–õ–µ–Ω–∏–Ω—Å–∫–∏–π", "–û–∫—Ç—è–±—Ä—å—Å–∫–∏–π", "–°–æ–≤–µ—Ç—Å–∫–∏–π", "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π"
    ]),
    ("–í–æ—Ä–æ–Ω–µ–∂", "Europe/Moscow", [
        "–ñ–µ–ª–µ–∑–Ω–æ–¥–æ—Ä–æ–∂–Ω—ã–π", "–ö–æ–º–∏–Ω—Ç–µ—Ä–Ω–æ–≤—Å–∫–∏–π", "–õ–µ–Ω–∏–Ω—Å–∫–∏–π", "–õ–µ–≤–æ–±–µ—Ä–µ–∂–Ω—ã–π",
        "–°–æ–≤–µ—Ç—Å–∫–∏–π", "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π"
    ]),
    ("–ü–µ—Ä–º—å", "Asia/Yekaterinburg", [
        "–î–∑–µ—Ä–∂–∏–Ω—Å–∫–∏–π", "–ò–Ω–¥—É—Å—Ç—Ä–∏–∞–ª—å–Ω—ã–π", "–ö–∏—Ä–æ–≤—Å–∫–∏–π", "–õ–µ–Ω–∏–Ω—Å–∫–∏–π",
        "–ú–æ—Ç–æ–≤–∏–ª–∏—Ö–∏–Ω—Å–∫–∏–π", "–û—Ä–¥–∂–æ–Ω–∏–∫–∏–¥–∑–µ–≤—Å–∫–∏–π", "–°–≤–µ—Ä–¥–ª–æ–≤—Å–∫–∏–π"
    ]),
    
    # === 500k-1M ===
    ("–í–æ–ª–≥–æ–≥—Ä–∞–¥", "Europe/Moscow", [
        "–í–æ—Ä–æ—à–∏–ª–æ–≤—Å–∫–∏–π", "–î–∑–µ—Ä–∂–∏–Ω—Å–∫–∏–π", "–ö–∏—Ä–æ–≤—Å–∫–∏–π", "–ö—Ä–∞—Å–Ω–æ–∞—Ä–º–µ–π—Å–∫–∏–π",
        "–ö—Ä–∞—Å–Ω–æ–æ–∫—Ç—è–±—Ä—å—Å–∫–∏–π", "–°–æ–≤–µ—Ç—Å–∫–∏–π", "–¢—Ä–∞–∫—Ç–æ—Ä–æ–∑–∞–≤–æ–¥—Å–∫–∏–π", "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π"
    ]),
    ("–°–∞—Ä–∞—Ç–æ–≤", "Europe/Moscow", [
        "–í–æ–ª–∂—Å–∫–∏–π", "–ó–∞–≤–æ–¥—Å–∫–æ–π", "–ö–∏—Ä–æ–≤—Å–∫–∏–π", "–õ–µ–Ω–∏–Ω—Å–∫–∏–π", "–û–∫—Ç—è–±—Ä—å—Å–∫–∏–π", "–§—Ä—É–Ω–∑–µ–Ω—Å–∫–∏–π"
    ]),
    ("–¢—é–º–µ–Ω—å", "Asia/Yekaterinburg", [
        "–ö–∞–ª–∏–Ω–∏–Ω—Å–∫–∏–π", "–õ–µ–Ω–∏–Ω—Å–∫–∏–π", "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π", "–í–æ—Å—Ç–æ—á–Ω—ã–π"
    ]),
    ("–¢–æ–ª—å—è—Ç—Ç–∏", "Europe/Samara", [
        "–ê–≤—Ç–æ–∑–∞–≤–æ–¥—Å–∫–∏–π", "–ö–æ–º—Å–æ–º–æ–ª—å—Å–∫–∏–π", "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π"
    ]),
    ("–ò–∂–µ–≤—Å–∫", "Europe/Samara", [
        "–ò–Ω–¥—É—Å—Ç—Ä–∏–∞–ª—å–Ω—ã–π", "–õ–µ–Ω–∏–Ω—Å–∫–∏–π", "–û–∫—Ç—è–±—Ä—å—Å–∫–∏–π", "–ü–µ—Ä–≤–æ–º–∞–π—Å–∫–∏–π", "–£—Å—Ç–∏–Ω–æ–≤—Å–∫–∏–π"
    ]),
    ("–ë–∞—Ä–Ω–∞—É–ª", "Asia/Novosibirsk", [
        "–ñ–µ–ª–µ–∑–Ω–æ–¥–æ—Ä–æ–∂–Ω—ã–π", "–ò–Ω–¥—É—Å—Ç—Ä–∏–∞–ª—å–Ω—ã–π", "–õ–µ–Ω–∏–Ω—Å–∫–∏–π", "–û–∫—Ç—è–±—Ä—å—Å–∫–∏–π", "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π"
    ]),
    ("–£–ª—å—è–Ω–æ–≤—Å–∫", "Europe/Samara", [
        "–ñ–µ–ª–µ–∑–Ω–æ–¥–æ—Ä–æ–∂–Ω—ã–π", "–ó–∞–≤–æ–ª–∂—Å–∫–∏–π", "–õ–µ–Ω–∏–Ω—Å–∫–∏–π", "–ó–∞—Å–≤–∏—è–∂—Å–∫–∏–π"
    ]),
    ("–ò—Ä–∫—É—Ç—Å–∫", "Asia/Irkutsk", [
        "–ö—É–π–±—ã—à–µ–≤—Å–∫–∏–π", "–õ–µ–Ω–∏–Ω—Å–∫–∏–π", "–û–∫—Ç—è–±—Ä—å—Å–∫–∏–π", "–°–≤–µ—Ä–¥–ª–æ–≤—Å–∫–∏–π"
    ]),
    ("–•–∞–±–∞—Ä–æ–≤—Å–∫", "Asia/Vladivostok", [
        "–ñ–µ–ª–µ–∑–Ω–æ–¥–æ—Ä–æ–∂–Ω—ã–π", "–ò–Ω–¥—É—Å—Ç—Ä–∏–∞–ª—å–Ω—ã–π", "–ö–∏—Ä–æ–≤—Å–∫–∏–π", "–ö—Ä–∞—Å–Ω–æ—Ñ–ª–æ—Ç—Å–∫–∏–π", "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π"
    ]),
    ("–í–ª–∞–¥–∏–≤–æ—Å—Ç–æ–∫", "Asia/Vladivostok", [
        "–õ–µ–Ω–∏–Ω—Å–∫–∏–π", "–ü–µ—Ä–≤–æ–º–∞–π—Å–∫–∏–π", "–ü–µ—Ä–≤–æ—Ä–µ—á–µ–Ω—Å–∫–∏–π", "–°–æ–≤–µ—Ç—Å–∫–∏–π", "–§—Ä—É–Ω–∑–µ–Ω—Å–∫–∏–π"
    ]),
    ("–Ø—Ä–æ—Å–ª–∞–≤–ª—å", "Europe/Moscow", [
        "–î–∑–µ—Ä–∂–∏–Ω—Å–∫–∏–π", "–ó–∞–≤–æ–ª–∂—Å–∫–∏–π", "–ö–∏—Ä–æ–≤—Å–∫–∏–π", "–ö—Ä–∞—Å–Ω–æ–ø–µ—Ä–µ–∫–æ–ø—Å–∫–∏–π", "–õ–µ–Ω–∏–Ω—Å–∫–∏–π", "–§—Ä—É–Ω–∑–µ–Ω—Å–∫–∏–π"
    ]),
    ("–ú–∞—Ö–∞—á–∫–∞–ª–∞", "Europe/Moscow", [
        "–ö–∏—Ä–æ–≤—Å–∫–∏–π", "–õ–µ–Ω–∏–Ω—Å–∫–∏–π", "–°–æ–≤–µ—Ç—Å–∫–∏–π"
    ]),
    ("–¢–æ–º—Å–∫", "Asia/Novosibirsk", [
        "–ö–∏—Ä–æ–≤—Å–∫–∏–π", "–õ–µ–Ω–∏–Ω—Å–∫–∏–π", "–û–∫—Ç—è–±—Ä—å—Å–∫–∏–π", "–°–æ–≤–µ—Ç—Å–∫–∏–π"
    ]),
    ("–û—Ä–µ–Ω–±—É—Ä–≥", "Asia/Yekaterinburg", [
        "–î–∑–µ—Ä–∂–∏–Ω—Å–∫–∏–π", "–õ–µ–Ω–∏–Ω—Å–∫–∏–π", "–ü—Ä–æ–º—ã—à–ª–µ–Ω–Ω—ã–π", "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π"
    ]),
    ("–ö–µ–º–µ—Ä–æ–≤–æ", "Asia/Novosibirsk", [
        "–ó–∞–≤–æ–¥—Å–∫–∏–π", "–ö–∏—Ä–æ–≤—Å–∫–∏–π", "–õ–µ–Ω–∏–Ω—Å–∫–∏–π", "–†—É–¥–Ω–∏—á–Ω—ã–π", "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π"
    ]),
    ("–ù–æ–≤–æ–∫—É–∑–Ω–µ—Ü–∫", "Asia/Novosibirsk", [
        "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π", "–ó–∞–≤–æ–¥—Å–∫–æ–π", "–ö—É–∑–Ω–µ—Ü–∫–∏–π", "–ö—É–π–±—ã—à–µ–≤—Å–∫–∏–π", "–ù–æ–≤–æ–∏–ª—å–∏–Ω—Å–∫–∏–π", "–û—Ä–¥–∂–æ–Ω–∏–∫–∏–¥–∑–µ–≤—Å–∫–∏–π"
    ]),
    ("–†—è–∑–∞–Ω—å", "Europe/Moscow", [
        "–ñ–µ–ª–µ–∑–Ω–æ–¥–æ—Ä–æ–∂–Ω—ã–π", "–ú–æ—Å–∫–æ–≤—Å–∫–∏–π", "–û–∫—Ç—è–±—Ä—å—Å–∫–∏–π", "–°–æ–≤–µ—Ç—Å–∫–∏–π"
    ]),
    ("–ù–∞–±–µ—Ä–µ–∂–Ω—ã–µ –ß–µ–ª–Ω—ã", "Europe/Moscow", [
        "–ê–≤—Ç–æ–∑–∞–≤–æ–¥—Å–∫–∏–π", "–ö–æ–º—Å–æ–º–æ–ª—å—Å–∫–∏–π", "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π"
    ]),
    ("–ê—Å—Ç—Ä–∞—Ö–∞–Ω—å", "Europe/Moscow", [
        "–ö–∏—Ä–æ–≤—Å–∫–∏–π", "–õ–µ–Ω–∏–Ω—Å–∫–∏–π", "–°–æ–≤–µ—Ç—Å–∫–∏–π", "–¢—Ä—É—Å–æ–≤—Å–∫–∏–π"
    ]),
    ("–ü–µ–Ω–∑–∞", "Europe/Moscow", [
        "–ñ–µ–ª–µ–∑–Ω–æ–¥–æ—Ä–æ–∂–Ω—ã–π", "–õ–µ–Ω–∏–Ω—Å–∫–∏–π", "–û–∫—Ç—è–±—Ä—å—Å–∫–∏–π", "–ü–µ—Ä–≤–æ–º–∞–π—Å–∫–∏–π"
    ]),
    ("–ö–∏—Ä–æ–≤", "Europe/Moscow", [
        "–õ–µ–Ω–∏–Ω—Å–∫–∏–π", "–ù–æ–≤–æ–≤—è—Ç—Å–∫–∏–π", "–û–∫—Ç—è–±—Ä—å—Å–∫–∏–π", "–ü–µ—Ä–≤–æ–º–∞–π—Å–∫–∏–π"
    ]),
    ("–õ–∏–ø–µ—Ü–∫", "Europe/Moscow", [
        "–õ–µ–≤–æ–±–µ—Ä–µ–∂–Ω—ã–π", "–û–∫—Ç—è–±—Ä—å—Å–∫–∏–π", "–ü—Ä–∞–≤–æ–±–µ—Ä–µ–∂–Ω—ã–π", "–°–æ–≤–µ—Ç—Å–∫–∏–π"
    ]),
    ("–ß–µ–±–æ–∫—Å–∞—Ä—ã", "Europe/Moscow", [
        "–ö–∞–ª–∏–Ω–∏–Ω—Å–∫–∏–π", "–õ–µ–Ω–∏–Ω—Å–∫–∏–π", "–ú–æ—Å–∫–æ–≤—Å–∫–∏–π"
    ]),
    ("–ö–∞–ª–∏–Ω–∏–Ω–≥—Ä–∞–¥", "Europe/Kaliningrad", [
        "–ë–∞–ª—Ç–∏–π—Å–∫–∏–π", "–õ–µ–Ω–∏–Ω–≥—Ä–∞–¥—Å–∫–∏–π", "–ú–æ—Å–∫–æ–≤—Å–∫–∏–π", "–û–∫—Ç—è–±—Ä—å—Å–∫–∏–π", "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π"
    ]),
    ("–¢—É–ª–∞", "Europe/Moscow", [
        "–ó–∞—Ä–µ—á–µ–Ω—Å–∫–∏–π", "–ü—Ä–∏–≤–æ–∫–∑–∞–ª—å–Ω—ã–π", "–ü—Ä–æ–ª–µ—Ç–∞—Ä—Å–∫–∏–π", "–°–æ–≤–µ—Ç—Å–∫–∏–π", "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π"
    ]),
    ("–ö—É—Ä—Å–∫", "Europe/Moscow", [
        "–ñ–µ–ª–µ–∑–Ω–æ–¥–æ—Ä–æ–∂–Ω—ã–π", "–õ–µ–Ω–∏–Ω—Å–∫–∏–π", "–°–µ–π–º—Å–∫–∏–π"
    ]),
    ("–°–æ—á–∏", "Europe/Moscow", [
        "–ê–¥–ª–µ—Ä—Å–∫–∏–π", "–õ–∞–∑–∞—Ä–µ–≤—Å–∫–∏–π", "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π", "–•–æ—Å—Ç–∏–Ω—Å–∫–∏–π"
    ]),
    ("–°—Ç–∞–≤—Ä–æ–ø–æ–ª—å", "Europe/Moscow", [
        "–õ–µ–Ω–∏–Ω—Å–∫–∏–π", "–û–∫—Ç—è–±—Ä—å—Å–∫–∏–π", "–ü—Ä–æ–º—ã—à–ª–µ–Ω–Ω—ã–π"
    ]),
    ("–ë–∞–ª–∞—à–∏—Ö–∞", "Europe/Moscow", [
        "–ñ–µ–ª–µ–∑–Ω–æ–¥–æ—Ä–æ–∂–Ω—ã–π", "–ù–æ–≤—ã–π", "–°—Ç–∞—Ä—ã–π"
    ]),
    ("–°–µ–≤–∞—Å—Ç–æ–ø–æ–ª—å", "Europe/Moscow", [
        "–ë–∞–ª–∞–∫–ª–∞–≤—Å–∫–∏–π", "–ì–∞–≥–∞—Ä–∏–Ω—Å–∫–∏–π", "–õ–µ–Ω–∏–Ω—Å–∫–∏–π", "–ù–∞—Ö–∏–º–æ–≤—Å–∫–∏–π"
    ]),
    
    # === 250k-500k ===
    ("–ë—Ä—è–Ω—Å–∫", "Europe/Moscow", [
        "–ë–µ–∂–∏—Ü–∫–∏–π", "–í–æ–ª–æ–¥–∞—Ä—Å–∫–∏–π", "–°–æ–≤–µ—Ç—Å–∫–∏–π", "–§–æ–∫–∏–Ω—Å–∫–∏–π"
    ]),
    ("–ë–µ–ª–≥–æ—Ä–æ–¥", "Europe/Moscow", [
        "–í–æ—Å—Ç–æ—á–Ω—ã–π", "–ó–∞–ø–∞–¥–Ω—ã–π"
    ]),
    ("–ú–∞–≥–Ω–∏—Ç–æ–≥–æ—Ä—Å–∫", "Asia/Yekaterinburg", [
        "–õ–µ–Ω–∏–Ω—Å–∫–∏–π", "–û—Ä–¥–∂–æ–Ω–∏–∫–∏–¥–∑–µ–≤—Å–∫–∏–π", "–ü—Ä–∞–≤–æ–±–µ—Ä–µ–∂–Ω—ã–π"
    ]),
    ("–í–µ–ª–∏–∫–∏–π –ù–æ–≤–≥–æ—Ä–æ–¥", "Europe/Moscow", [
        "–ó–∞–ø–∞–¥–Ω—ã–π"
    ]),
    ("–ö–∞–ª—É–≥–∞", "Europe/Moscow", [
        "–õ–µ–Ω–∏–Ω—Å–∫–∏–π", "–ú–æ—Å–∫–æ–≤—Å–∫–∏–π"
    ]),
    ("–°—É—Ä–≥—É—Ç", "Asia/Yekaterinburg", [
        "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π", "–°–µ–≤–µ—Ä–Ω—ã–π", "–í–æ—Å—Ç–æ—á–Ω—ã–π"
    ]),
    ("–í–ª–∞–¥–∏–∫–∞–≤–∫–∞–∑", "Europe/Moscow", [
        "–ó–∞—Ç–µ—Ä–µ—á–Ω—ã–π", "–ò—Ä–∏—Å—Ç–æ–Ω—Å–∫–∏–π", "–ü—Ä–æ–º—ã—à–ª–µ–Ω–Ω—ã–π", "–°–µ–≤–µ—Ä–æ-–ó–∞–ø–∞–¥–Ω—ã–π"
    ]),
    ("–ß–∏—Ç–∞", "Asia/Yakutsk", [
        "–ò–Ω–≥–æ–¥–∏–Ω—Å–∫–∏–π", "–ñ–µ–ª–µ–∑–Ω–æ–¥–æ—Ä–æ–∂–Ω—ã–π", "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π", "–ß–µ—Ä–Ω–æ–≤—Å–∫–∏–π"
    ]),
    ("–°–∏–º—Ñ–µ—Ä–æ–ø–æ–ª—å", "Europe/Moscow", [
        "–ñ–µ–ª–µ–∑–Ω–æ–¥–æ—Ä–æ–∂–Ω—ã–π", "–ö–∏–µ–≤—Å–∫–∏–π", "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π"
    ]),
    ("–í–æ–ª–∂—Å–∫–∏–π", "Europe/Moscow", [
        "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π", "–°–µ–≤–µ—Ä–Ω—ã–π", "–Æ–∂–Ω—ã–π"
    ]),
    ("–°–º–æ–ª–µ–Ω—Å–∫", "Europe/Moscow", [
        "–ó–∞–¥–Ω–µ–ø—Ä–æ–≤—Å–∫–∏–π", "–õ–µ–Ω–∏–Ω—Å–∫–∏–π", "–ü—Ä–æ–º—ã—à–ª–µ–Ω–Ω—ã–π"
    ]),
    ("–°–∞—Ä–∞–Ω—Å–∫", "Europe/Moscow", [
        "–õ–µ–Ω–∏–Ω—Å–∫–∏–π", "–û–∫—Ç—è–±—Ä—å—Å–∫–∏–π", "–ü—Ä–æ–ª–µ—Ç–∞—Ä—Å–∫–∏–π"
    ]),
    ("–ö—É—Ä–≥–∞–Ω", "Asia/Yekaterinburg", [
        "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π", "–ü—Ä–æ–º—ã—à–ª–µ–Ω–Ω—ã–π"
    ]),
    ("–û—Ä—ë–ª", "Europe/Moscow", [
        "–ñ–µ–ª–µ–∑–Ω–æ–¥–æ—Ä–æ–∂–Ω—ã–π", "–ó–∞–≤–æ–¥—Å–∫–æ–π", "–°–µ–≤–µ—Ä–Ω—ã–π", "–°–æ–≤–µ—Ç—Å–∫–∏–π"
    ]),
    ("–ü–æ–¥–æ–ª—å—Å–∫", "Europe/Moscow", [
        "–ö–ª–∏–º–æ–≤—Å–∫", "–õ—å–≤–æ–≤—Å–∫–∏–π", "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π"
    ]),
    ("–ê—Ä—Ö–∞–Ω–≥–µ–ª—å—Å–∫", "Europe/Moscow", [
        "–õ–æ–º–æ–Ω–æ—Å–æ–≤—Å–∫–∏–π", "–ú–∞–π–º–∞–∫—Å–∞–Ω—Å–∫–∏–π", "–û–∫—Ç—è–±—Ä—å—Å–∫–∏–π", "–°–æ–ª–æ–º–±–∞–ª—å—Å–∫–∏–π"
    ]),
    ("–ì—Ä–æ–∑–Ω—ã–π", "Europe/Moscow", [
        "–ê—Ö–º–∞—Ç–æ–≤—Å–∫–∏–π", "–ë–∞–π—Å–∞–Ω–≥—É—Ä–æ–≤—Å–∫–∏–π", "–ó–∞–≤–æ–¥—Å–∫–æ–π", "–°—Ç–∞—Ä–æ–ø—Ä–æ–º—ã—Å–ª–æ–≤—Å–∫–∏–π"
    ]),
    ("–Ø–∫—É—Ç—Å–∫", "Asia/Yakutsk", [
        "–ê–≤—Ç–æ–¥–æ—Ä–æ–∂–Ω—ã–π", "–ì–∞–≥–∞—Ä–∏–Ω—Å–∫–∏–π", "–û–∫—Ç—è–±—Ä—å—Å–∫–∏–π", "–ü—Ä–æ–º—ã—à–ª–µ–Ω–Ω—ã–π", "–°–∞–π—Å–∞—Ä—Å–∫–∏–π", "–°—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–π"
    ]),
    ("–¢–≤–µ—Ä—å", "Europe/Moscow", [
        "–ó–∞–≤–æ–ª–∂—Å–∫–∏–π", "–ú–æ—Å–∫–æ–≤—Å–∫–∏–π", "–ü—Ä–æ–ª–µ—Ç–∞—Ä—Å–∫–∏–π", "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π"
    ]),
    ("–°—Ç–∞—Ä—ã–π –û—Å–∫–æ–ª", "Europe/Moscow", [
        "–°—Ç–∞—Ä–æ–æ—Å–∫–æ–ª—å—Å–∫–∏–π", "–Æ–≥–æ-–ó–∞–ø–∞–¥–Ω—ã–π"
    ]),
    ("–£–ª–∞–Ω-–£–¥—ç", "Asia/Irkutsk", [
        "–ñ–µ–ª–µ–∑–Ω–æ–¥–æ—Ä–æ–∂–Ω—ã–π", "–û–∫—Ç—è–±—Ä—å—Å–∫–∏–π", "–°–æ–≤–µ—Ç—Å–∫–∏–π"
    ]),
    ("–ù–∏–∂–Ω–∏–π –¢–∞–≥–∏–ª", "Asia/Yekaterinburg", [
        "–î–∑–µ—Ä–∂–∏–Ω—Å–∫–∏–π", "–õ–µ–Ω–∏–Ω—Å–∫–∏–π", "–¢–∞–≥–∏–ª—Å—Ç—Ä–æ–µ–≤—Å–∫–∏–π"
    ]),
    ("–ù–∏–∂–Ω–µ–≤–∞—Ä—Ç–æ–≤—Å–∫", "Asia/Yekaterinburg", [
        "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π"
    ]),
    ("–ü—Å–∫–æ–≤", "Europe/Moscow", [
        "–ó–∞–≤–µ–ª–∏—á—å–µ", "–¶–µ–Ω—Ç—Ä"
    ]),
    ("–ô–æ—à–∫–∞—Ä-–û–ª–∞", "Europe/Moscow", [
        "–ó–∞–≤–æ–¥—Å–∫–æ–π", "–õ–µ–Ω–∏–Ω—Å–∫–∏–π"
    ]),
    ("–ö–æ—Å—Ç—Ä–æ–º–∞", "Europe/Moscow", [
        "–§–∞–±—Ä–∏—á–Ω—ã–π", "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π"
    ]),
    ("–ù–æ–≤–æ—Ä–æ—Å—Å–∏–π—Å–∫", "Europe/Moscow", [
        "–ú—ã—Å—Ö–∞–∫–æ", "–ü—Ä–∏–º–æ—Ä—Å–∫–∏–π", "–Æ–∂–Ω—ã–π"
    ]),
    ("–î–∑–µ—Ä–∂–∏–Ω—Å–∫", "Europe/Moscow", [
        "–í–æ—Å—Ç–æ—á–Ω—ã–π", "–ó–∞–ø–∞–¥–Ω—ã–π"
    ]),
    ("–¢–∞–≥–∞–Ω—Ä–æ–≥", "Europe/Moscow", [
        "–ó–∞–ø–∞–¥–Ω—ã–π", "–°–µ–≤–µ—Ä–Ω—ã–π", "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π"
    ]),
    ("–•–∏–º–∫–∏", "Europe/Moscow", [
        "–õ–µ–≤–æ–±–µ—Ä–µ–∂–Ω—ã–π", "–°—Ö–æ–¥–Ω—è"
    ]),
    ("–ë–µ—Ä–µ–∑–Ω–∏–∫–∏", "Asia/Yekaterinburg", [
        "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π", "–õ–µ–Ω–∏–Ω—Å–∫–∏–π"
    ]),
    ("–≠–Ω–≥–µ–ª—å—Å", "Europe/Moscow", [
        "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π"
    ]),
    ("–®–∞—Ö—Ç—ã", "Europe/Moscow", [
        "–ó–∞–ø–∞–¥–Ω—ã–π", "–°–µ–≤–µ—Ä–æ-–í–æ—Å—Ç–æ—á–Ω—ã–π", "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π"
    ]),
]


async def seed_data():
    """–ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü cities –∏ districts"""
    
    # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
    engine = create_async_engine(
        settings.database_url,
        echo=True,
        pool_pre_ping=True
    )
    
    async_session = sessionmaker(
        engine, class_=AsyncSession, expire_on_commit=False
    )
    
    async with async_session() as session:
        try:
            print("\nüóëÔ∏è  –û—á–∏—Å—Ç–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö...")
            
            # –£–¥–∞–ª—è–µ–º —Ä–∞–π–æ–Ω—ã (–∏–∑-–∑–∞ FK)
            await session.execute(delete(districts))
            # –£–¥–∞–ª—è–µ–º –≥–æ—Ä–æ–¥–∞
            await session.execute(delete(cities))
            await session.commit()
            
            print("‚úÖ –û—á–∏—Å—Ç–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞\n")
            
            print("üåç –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≥–æ—Ä–æ–¥–æ–≤ –∏ —Ä–∞–π–æ–Ω–æ–≤...\n")
            
            total_cities = 0
            total_districts = 0
            
            for city_name, tz, districts_list in CITIES_DATA:
                # –°–æ–∑–¥–∞—ë–º –≥–æ—Ä–æ–¥
                city = cities(
                    name=city_name,
                    timezone=tz
                )
                session.add(city)
                await session.flush()  # –ü–æ–ª—É—á–∞–µ–º ID –≥–æ—Ä–æ–¥–∞
                
                total_cities += 1
                
                # –î–æ–±–∞–≤–ª—è–µ–º —Ä–∞–π–æ–Ω—ã
                for district_name in districts_list:
                    district = districts(
                        name=district_name,
                        city_id=city.id
                    )
                    session.add(district)
                    total_districts += 1
                
                print(f"  ‚úì {city_name} ({tz}): {len(districts_list)} —Ä–∞–π–æ–Ω–æ–≤")
            
            await session.commit()
            
            print(f"\n‚úÖ –£—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ:")
            print(f"   ‚Ä¢ –ì–æ—Ä–æ–¥–æ–≤: {total_cities}")
            print(f"   ‚Ä¢ –†–∞–π–æ–Ω–æ–≤: {total_districts}")
            
        except Exception as e:
            print(f"\n‚ùå –û—à–∏–±–∫–∞: {e}")
            await session.rollback()
            raise
        finally:
            await engine.dispose()


async def verify_data():
    """–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö"""
    
    engine = create_async_engine(
        settings.database_url,
        echo=False,
        pool_pre_ping=True
    )
    
    async_session = sessionmaker(
        engine, class_=AsyncSession, expire_on_commit=False
    )
    
    async with async_session() as session:
        try:
            # –ü—Ä–æ–≤–µ—Ä—è–µ–º –≥–æ—Ä–æ–¥–∞
            result = await session.execute(select(cities))
            all_cities = result.scalars().all()
            
            print(f"\nüìä –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö:")
            print(f"   ‚Ä¢ –í—Å–µ–≥–æ –≥–æ—Ä–æ–¥–æ–≤: {len(all_cities)}")
            
            # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–∞–π–æ–Ω—ã
            result = await session.execute(select(districts))
            all_districts = result.scalars().all()
            
            print(f"   ‚Ä¢ –í—Å–µ–≥–æ —Ä–∞–π–æ–Ω–æ–≤: {len(all_districts)}")
            
            # –ü—Ä–∏–º–µ—Ä—ã
            print(f"\nüìã –ü—Ä–∏–º–µ—Ä—ã:")
            for city in all_cities[:5]:
                result = await session.execute(
                    select(districts).where(districts.city_id == city.id)
                )
                city_districts = result.scalars().all()
                print(f"   ‚Ä¢ {city.name}: {len(city_districts)} —Ä–∞–π–æ–Ω–æ–≤")
            
        finally:
            await engine.dispose()


if __name__ == "__main__":
    print("="*60)
    print("üöÄ –ó–∞–ø—É—Å–∫ —Å–∏–¥–∏—Ä–æ–≤–∞–Ω–∏—è –≥–æ—Ä–æ–¥–æ–≤ –∏ —Ä–∞–π–æ–Ω–æ–≤")
    print("="*60)
    
    asyncio.run(seed_data())
    asyncio.run(verify_data())
    
    print("\n" + "="*60)
    print("‚úÖ –°–∏–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ!")
    print("="*60)
