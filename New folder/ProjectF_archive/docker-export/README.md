# üöÄ Field Service - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—é –Ω–∞ Windows Server

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –ø–∞–ø–∫–∏

```
docker-export/
‚îú‚îÄ‚îÄ images/                    # Docker-–æ–±—Ä–∞–∑—ã (—Å–æ–∑–¥–∞—é—Ç—Å—è –ø—Ä–∏ —ç–∫—Å–ø–æ—Ä—Ç–µ)
‚îÇ   ‚îú‚îÄ‚îÄ admin-bot.tar         # –û–±—Ä–∞–∑ –∞–¥–º–∏–Ω-–±–æ—Ç–∞ (~300-400 MB)
‚îÇ   ‚îú‚îÄ‚îÄ master-bot.tar        # –û–±—Ä–∞–∑ –º–∞—Å—Ç–µ—Ä-–±–æ—Ç–∞ (~300-400 MB)
‚îÇ   ‚îî‚îÄ‚îÄ postgres.tar          # –û–±—Ä–∞–∑ PostgreSQL (~80 MB)
‚îú‚îÄ‚îÄ init-db/                   # –î–∞–Ω–Ω—ã–µ –±–∞–∑—ã (—Å–æ–∑–¥–∞—é—Ç—Å—è –ø—Ä–∏ —ç–∫—Å–ø–æ—Ä—Ç–µ)
‚îÇ   ‚îî‚îÄ‚îÄ backup.sql            # –î–∞–º–ø –ë–î —Å –≥–æ—Ä–æ–¥–∞–º–∏, —Ä–∞–π–æ–Ω–∞–º–∏, —É–ª–∏—Ü–∞–º–∏
‚îú‚îÄ‚îÄ 1_export_all.ps1          # –°–∫—Ä–∏–ø—Ç —ç–∫—Å–ø–æ—Ä—Ç–∞ (–∑–∞–ø—É—Å–∫–∞—Ç—å –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ)
‚îú‚îÄ‚îÄ 2_import_and_deploy.ps1   # –°–∫—Ä–∏–ø—Ç —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è (–∑–∞–ø—É—Å–∫–∞—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)
‚îú‚îÄ‚îÄ docker-compose.yml        # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Docker Compose
‚îú‚îÄ‚îÄ .env.example              # –®–∞–±–ª–æ–Ω –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îî‚îÄ‚îÄ README.md                 # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

---

## üñ•Ô∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É

### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- **–û–°**: Windows Server 2019/2022 –∏–ª–∏ Windows 10/11 Pro
- **CPU**: 2 —è–¥—Ä–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 4)
- **RAM**: 4 GB (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 8 GB)
- **–î–∏—Å–∫**: 20 GB —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞
- **–ò–Ω—Ç–µ—Ä–Ω–µ—Ç**: –°—Ç–∞–±–∏–ª—å–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

### –ù–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –ü–û:
1. **Docker Desktop for Windows** - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
2. **PowerShell 5.1+** - —É–∂–µ –µ—Å—Ç—å –≤ Windows
3. **Git for Windows** - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (–¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞)

---

## üì¶ –ß–∞—Å—Ç—å 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ

### –®–∞–≥ 1: –≠–∫—Å–ø–æ—Ä—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

–ù–∞ –≤–∞—à–µ–π **–ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ** —Å –ø—Ä–æ–µ–∫—Ç–æ–º:

```powershell
# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É docker-export
cd C:\ProjectF\docker-export

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç —ç–∫—Å–ø–æ—Ä—Ç–∞
.\1_export_all.ps1
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç:**
- –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–∞–ø—É—â–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
- –°–æ–±–∏—Ä–∞–µ—Ç Docker-–æ–±—Ä–∞–∑—ã –∏–∑ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤
- –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –æ–±—Ä–∞–∑—ã –≤ .tar —Ñ–∞–π–ª—ã
- –°–æ–∑–¥–∞—ë—Ç –¥–∞–º–ø –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- –£–ø–∞–∫–æ–≤—ã–≤–∞–µ—Ç –≤—Å—ë –≤ –ø–∞–ø–∫—É `docker-export`

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–∞–ø–∫–∞ `docker-export` –≥–æ—Ç–æ–≤–∞ –∫ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—é –Ω–∞ —Å–µ—Ä–≤–µ—Ä.

### –®–∞–≥ 2: –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ **–≤—Å—é –ø–∞–ø–∫—É** `docker-export` –Ω–∞ Windows Server –ª—é–±—ã–º —Å–ø–æ—Å–æ–±–æ–º:

- **RDP**: –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞
- **FileZilla/WinSCP**: FTP/SFTP
- **OneDrive/Google Drive**: –û–±–ª–∞—á–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
- **USB-–Ω–∞–∫–æ–ø–∏—Ç–µ–ª—å**: –§–∏–∑–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–Ω–æ—Å

---

## ‚öôÔ∏è –ß–∞—Å—Ç—å 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ Windows Server

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker Desktop

–ù–∞ **Windows Server**:

1. –°–∫–∞—á–∞–π—Ç–µ Docker Desktop:
   ```
   https://www.docker.com/products/docker-desktop
   ```

2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫ `Docker Desktop Installer.exe`

3. –ü—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –≤—ã–±–µ—Ä–∏—Ç–µ:
   - ‚úÖ Use WSL 2 instead of Hyper-V (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
   - ‚úÖ Add shortcut to desktop

4. **–ü–ï–†–ï–ó–ê–ì–†–£–ó–ò–¢–ï –°–ï–†–í–ï–†** –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

5. –ó–∞–ø—É—Å—Ç–∏—Ç–µ Docker Desktop

6. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–ø—É—Å–∫–∞ Docker Engine (–∏–∫–æ–Ω–∫–∞ –≤ —Ç—Ä–µ–µ —Å—Ç–∞–Ω–µ—Ç –∑–µ–ª—ë–Ω–æ–π)

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏:

```powershell
# –û—Ç–∫—Ä–æ–π—Ç–µ PowerShell –æ—Ç –∏–º–µ–Ω–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
docker --version
# –î–æ–ª–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏: Docker version 24.x.x

docker ps
# –î–æ–ª–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏ –ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
```

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É, –∫—É–¥–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–ª–∏ `docker-export`:
   ```powershell
   cd C:\–ø—É—Ç—å\–∫\docker-export
   ```

2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —à–∞–±–ª–æ–Ω –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:
   ```powershell
   Copy-Item .env.example .env
   ```

3. –û—Ç–∫—Ä–æ–π—Ç–µ `.env` –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ:
   ```powershell
   notepad .env
   ```

4. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ** –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

   ```env
   # –¢–æ–∫–µ–Ω—ã –±–æ—Ç–æ–≤ (–ø–æ–ª—É—á–∏—Ç–µ —É @BotFather)
   MASTER_BOT_TOKEN=1234567890:ABCdefGHIjklMNOpqrsTUVwxyz
   ADMIN_BOT_TOKEN=0987654321:ZYXwvuTSRqponMLKjihGFEdcba
   
   # –í–∞—à Telegram ID (—É–∑–Ω–∞–π—Ç–µ —É @userinfobot)
   ADMIN_BOT_SUPERUSERS=123456789
   GLOBAL_ADMINS_TG_IDS=[123456789]
   
   # –ü–∞—Ä–æ–ª—å –ë–î (–ø—Ä–∏–¥—É–º–∞–π—Ç–µ —Å–ª–æ–∂–Ω—ã–π)
   POSTGRES_PASSWORD=–°–ª–æ–∂–Ω—ã–π–ü–∞—Ä–æ–ª—å123!
   DATABASE_URL=postgresql+asyncpg://fs_user:–°–ª–æ–∂–Ω—ã–π–ü–∞—Ä–æ–ª—å123!@postgres:5432/field_service
   ```

5. **–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ** –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–∞–Ω–∞–ª—ã –¥–ª—è –ª–æ–≥–æ–≤:
   - –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –∫–∞–Ω–∞–ª—ã –≤ Telegram
   - –î–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–æ–≤ –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
   - –£–∑–Ω–∞–π—Ç–µ ID –∫–∞–Ω–∞–ª–æ–≤ —á–µ—Ä–µ–∑ @getidsbot
   - –í—Å—Ç–∞–≤—å—Ç–µ ID –≤ `.env`

6. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏ –∑–∞–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª


### –®–∞–≥ 3: –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

```powershell
# –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å –≤ –ø–∞–ø–∫–µ docker-export
cd C:\–ø—É—Ç—å\–∫\docker-export

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è –æ—Ç –∏–º–µ–Ω–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
.\2_import_and_deploy.ps1
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç:**
1. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç Docker –∏ –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
2. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤
3. –ó–∞–≥—Ä—É–∂–∞–µ—Ç Docker-–æ–±—Ä–∞–∑—ã (3-5 –º–∏–Ω—É—Ç)
4. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é `.env`
5. –ó–∞–ø—É—Å–∫–∞–µ—Ç PostgreSQL
6. –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏–∑ –¥–∞–º–ø–∞
7. –ó–∞–ø—É—Å–∫–∞–µ—Ç –∞–¥–º–∏–Ω-–±–æ—Ç–∞ –∏ –º–∞—Å—Ç–µ—Ä-–±–æ—Ç–∞
8. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**

```
========================================
‚úì –†–ê–ó–í–Å–†–¢–´–í–ê–ù–ò–ï –ó–ê–í–ï–†–®–ï–ù–û!
========================================

–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∑–∞–ø—É—â–µ–Ω—ã:
  ‚Ä¢ postgres    - –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
  ‚Ä¢ admin-bot   - –ê–¥–º–∏–Ω-–±–æ—Ç
  ‚Ä¢ master-bot  - –ú–∞—Å—Ç–µ—Ä-–±–æ—Ç
```

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤:**
   ```powershell
   docker-compose ps
   ```
   
   –í—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ —Å—Ç–∞—Ç—É—Å–µ `Up` (running).

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:**
   ```powershell
   # –õ–æ–≥–∏ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
   docker-compose logs -f
   
   # –õ–æ–≥–∏ —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω-–±–æ—Ç–∞
   docker-compose logs -f admin-bot
   
   # –õ–æ–≥–∏ —Ç–æ–ª—å–∫–æ –º–∞—Å—Ç–µ—Ä-–±–æ—Ç–∞
   docker-compose logs -f master-bot
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–æ—Ç–æ–≤ –≤ Telegram:**
   - –ù–∞–ø–∏—à–∏—Ç–µ `/start` –∞–¥–º–∏–Ω-–±–æ—Ç—É
   - –ù–∞–ø–∏—à–∏—Ç–µ `/start` –º–∞—Å—Ç–µ—Ä-–±–æ—Ç—É
   - –ë–æ—Ç—ã –¥–æ–ª–∂–Ω—ã –æ—Ç–≤–µ—Ç–∏—Ç—å

---

## üîß –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–æ–π

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```powershell
# –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç—É—Å–∞
docker-compose ps

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ (Ctrl+C –¥–ª—è –≤—ã—Ö–æ–¥–∞)
docker-compose logs -f

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose stop

# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose start

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose restart

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –æ–¥–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
docker-compose restart admin-bot
docker-compose restart master-bot
docker-compose restart postgres

# –ü—Ä–æ—Å–º–æ—Ç—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤
docker stats

# –ü–æ–ª–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ (–ë–î –±—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω–∞!)
docker-compose down -v
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å `.env`:

```powershell
# 1. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env
notepad .env

# 2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–æ–≤
docker-compose restart admin-bot master-bot
```

### –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ë–î

```powershell
# –°–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–∞
docker-compose exec postgres pg_dump -U fs_user field_service > backup_$(Get-Date -Format 'yyyy-MM-dd_HH-mm').sql

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ –±—ç–∫–∞–ø–∞
Get-Content backup_2025-10-17_10-30.sql | docker-compose exec -T postgres psql -U fs_user -d field_service
```

---

## üö® –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: Docker –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

**–°–∏–º–ø—Ç–æ–º—ã:**
```
docker: command not found
–∏–ª–∏
error during connect: this error may indicate that the docker daemon is not running
```

**–†–µ—à–µ–Ω–∏–µ:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ Docker Desktop
2. –î–æ–∂–¥–∏—Ç–µ—Å—å –ø–æ–ª–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ (–∑–µ–ª—ë–Ω–∞—è –∏–∫–æ–Ω–∫–∞ –≤ —Ç—Ä–µ–µ)
3. –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã

### –ü—Ä–æ–±–ª–µ–º–∞: –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

**–°–∏–º–ø—Ç–æ–º—ã:**
```
docker-compose ps
NAME         STATUS
fs_admin_bot    Restarting
```

**–†–µ—à–µ–Ω–∏–µ:**
```powershell
# –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
docker-compose logs admin-bot

# –¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:
# 1. –ù–µ–≤–µ—Ä–Ω—ã–π —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ ‚Üí –ø—Ä–æ–≤–µ—Ä—å—Ç–µ .env
# 2. –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î ‚Üí –ø—Ä–æ–≤–µ—Ä—å—Ç–µ DATABASE_URL
# 3. –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç GLOBAL_ADMINS_TG_IDS ‚Üí –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å JSON-–º–∞—Å—Å–∏–≤: [123456]
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç –≤ Telegram

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—â–µ–Ω:
   ```powershell
   docker-compose ps
   ```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –æ—à–∏–±–∫–∏:
   ```powershell
   docker-compose logs -f admin-bot
   ```

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞:
   - –¢–æ–∫–µ–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–º
   - –ë–æ—Ç –Ω–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω

4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞

### –ü—Ä–æ–±–ª–µ–º–∞: –ë–î –Ω–µ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è

**–°–∏–º–ø—Ç–æ–º—ã:**
```
ERROR: role "fs_user" does not exist
```

**–†–µ—à–µ–Ω–∏–µ:**
```powershell
# –ü–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker-compose down -v
docker-compose up -d postgres

# –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–ø—É—Å–∫–∞ –ë–î
Start-Sleep -Seconds 30

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –¥–∞–º–ø
Get-Content init-db\backup.sql | docker-compose exec -T postgres psql -U fs_user -d field_service
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ —Ö–≤–∞—Ç–∞–µ—Ç –ø–∞–º—è—Ç–∏

**–°–∏–º–ø—Ç–æ–º—ã:**
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –º–µ–¥–ª–µ–Ω–Ω–æ —Ä–∞–±–æ—Ç–∞—é—Ç
- OOM (Out of Memory) –≤ –ª–æ–≥–∞—Ö

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–≤–µ–ª–∏—á—å—Ç–µ –ª–∏–º–∏—Ç—ã –≤ Docker Desktop:
   - Settings ‚Üí Resources ‚Üí Memory ‚Üí 4 GB –º–∏–Ω–∏–º—É–º

2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Docker Desktop

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ü—Ä–æ—Å–º–æ—Ç—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤

```powershell
# –†–µ–∞–ª-—Ç–∞–π–º –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
docker stats

# –û–¥–∏–Ω —Ä–∞–∑
docker stats --no-stream
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è –ë–î

```powershell
# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
docker-compose exec postgres psql -U fs_user -d field_service

# SQL-–∑–∞–ø—Ä–æ—Å—ã:
# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∞—Å—Ç–µ—Ä–æ–≤
SELECT COUNT(*) FROM masters;

# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–∫–∞–∑–æ–≤
SELECT COUNT(*) FROM orders;

# –í—ã—Ö–æ–¥
\q
```

---

## üîÑ –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ

Docker Desktop –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ Windows.
–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —Å `restart: unless-stopped` –∑–∞–ø—É—Å—Ç—è—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ Docker:
- Docker Desktop ‚Üí Settings ‚Üí General ‚Üí 
  - ‚ùå Start Docker Desktop when you log in

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:

1. **–°–æ–±–µ—Ä–∏—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é:**
   ```powershell
   # –í–µ—Ä—Å–∏—è Docker
   docker --version
   docker-compose --version
   
   # –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
   docker-compose ps
   
   # –õ–æ–≥–∏ (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 100 —Å—Ç—Ä–æ–∫)
   docker-compose logs --tail=100
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é:**
   - Docker: https://docs.docker.com/
   - PostgreSQL: https://www.postgresql.org/docs/

3. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –ª–æ–≥–∏:**
   ```powershell
   docker-compose logs > logs_$(Get-Date -Format 'yyyy-MM-dd_HH-mm').txt
   ```

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç —É—Å–ø–µ—à–Ω–æ–≥–æ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è

- [ ] Docker Desktop —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –∑–∞–ø—É—â–µ–Ω
- [ ] –í—Å–µ —Ñ–∞–π–ª—ã –∏–∑ `docker-export` —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- [ ] –§–∞–π–ª `.env` —Å–æ–∑–¥–∞–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] –°–∫—Ä–∏–ø—Ç `2_import_and_deploy.ps1` –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ
- [ ] –í—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –≤ —Å—Ç–∞—Ç—É—Å–µ `Up` (running)
- [ ] –ë–æ—Ç—ã –æ—Ç–≤–µ—á–∞—é—Ç –≤ Telegram
- [ ] –ë–î —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–∞–Ω–Ω—ã–µ (–≥–æ—Ä–æ–¥–∞, —Ä–∞–π–æ–Ω—ã, —É–ª–∏—Ü—ã)
- [ ] –õ–æ–≥–∏ –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è:

1. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**
   - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Telegram-–∫–∞–Ω–∞–ª—ã –¥–ª—è –ª–æ–≥–æ–≤
   - –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ª–æ–≥–∏ —Ä–µ–≥—É–ª—è—Ä–Ω–æ

2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã –ë–î
   - –•—Ä–∞–Ω–µ–Ω–∏–µ –±—ç–∫–∞–ø–æ–≤ –≤–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞

3. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ**
   - –ó–∞–ø–∏—à–∏—Ç–µ –≤—Å–µ –ø–∞—Ä–æ–ª–∏ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –º–µ—Å—Ç–æ
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é `.env`

4. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ**
   - –°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –º–∞—Å—Ç–µ—Ä–∞
   - –°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—É—é –∑–∞—è–≤–∫—É
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É –∫–æ–º–∏—Å—Å–∏–π

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-10-17
**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞:** 1.0
